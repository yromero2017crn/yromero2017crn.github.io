-function(){"use strict";var f;var h=function(a){return"gwd-page"==a.tagName.toLowerCase()||"gwd-page"==a.getAttribute("is")},l=function(a){if(h(a))return a;for(;a&&9!=a.nodeType;)if((a=a.parentElement)&&h(a))return a;return null};var m=function(){var a=window.navigator.userAgent||"";return-1<a.indexOf("Trident")||-1<a.indexOf("MSIE")};var p=function(a,b){return setTimeout(a,b)};var r=function(a,b){var c;c=document.createEvent("Event");c.initEvent(a,!0,!0);b.dispatchEvent(c)},u=function(a,b){var c=function(d){a.removeEventListener("load",c);b(d)};a.addEventListener("load",c)};function v(a,b){this.D=a;a=b.split(".");b=window;for(var c=0;b&&c<a.length;c++)b=b[a[c]];this.s=b?0:2;this.f=[]}v.prototype.M=function(){for(var a=this.s=0;a<this.f.length;a++)this.f[a]();this.f=[]};v.prototype.load=function(a){a&&(0==this.s?a():this.f.push(a));if(2==this.s){this.s=1;a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=this.D;u(a,this.M.bind(this));var b=document.getElementsByTagName("script")[0];b?b.parentNode.insertBefore(a,b):document.getElementsByTagName("head")[0].appendChild(a)}};function w(a,b){this.D=a;this.K=b;this.C=null;this.f=[];this.G=!1}w.prototype.load=function(a){this.G?a():(this.C||(this.C=new v(this.D,this.K)),this.C.load(),this.f.push(a))};var x=null;window.onYouTubeIframeAPIReady=function(){r("apiloaded",document);var a=x;a.G=!0;for(var b=0;b<a.f.length;b++)a.f[b]();a.f=[]};
var y=function(a){var b="https://www.youtube.com/embed/"+a.videoId,b=b+"?enablejsapi=1&html5=1";a.autoplay&&(b+="&autoplay=1");a.adformat&&(b+="&adformat="+a.adformat);m()&&(b+="&wmode=opaque");a.color&&(b+="&color="+a.color);b+="&controls=";switch(a.controls){case "none":b+="0";break;case "autohide":case void 0:b+="1"}a.annotations||(b+="&iv_load_policy=3");a.related||(b+="&rel=0");a.loop&&(b+="&loop=1&playlist="+a.videoId);a.title||(b+="&showinfo=0");a.startPosition&&(b+="&start="+a.startPosition);
a.extraPlayerArgs&&a.extraPlayerArgs.split("&").forEach(function(a){a&&(a=a.split("="),b+="&",b+=a[0],1<a.length&&(b+="="+encodeURIComponent(a[1])))});return b},z=function(a){a||(a=Date.now()+""+Math.floor(1E4*Math.random()));return"video"+a},A=function(a,b,c,d){x||(x=new w("https://www.youtube.com/iframe_api","YT"));var g=!1;x.load(function(){if(!g){var e;e=c.width;var q=c.height,n=y(c),t=c.allowfullscreen,k=a.querySelector("#"+b);k||(k=document.createElement("iframe"),k.id=b,k.frameBorder="0",k.type=
"text/html",a.appendChild(k));n!=k.src&&(k.src=n);k.width=e;k.height=q;t?k.setAttribute("allowfullscreen",""):k.removeAttribute("allowfullscreen");e=new YT.Player(b,{events:c.events});d(e)}});return function(){g=!0}};var B=/^https:\/\/((?:www|m).)youtube.com(\/.*)?$/,C=function(a){a=a||"";var b=a.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);return b&&11==b[2].length?b[2]:a},D=function(){};goog.inherits(D,HTMLElement);D.prototype.createdCallback=function(){this.a=null;this.i=!1;this.g="";this.j=this.v=!1;this.m=null;this.F=this.B=!1;this.c=[];this.J=[];this.u=this.b=null;this.w=this.h=!1;this.o=-1;this.I=E(this)};
var G=function(a,b){if(!a.b){a.style.position="relative";var c=window.getComputedStyle(a).height,d=window.getComputedStyle(a).width;a.b=document.createElement("div");a.b.className="youtube-overlay";a.b.style.height=c;a.b.style.width=d;if(b){a.b.className+=" youtube-play-button";a.b.style.backgroundImage="url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPSc4NCcgaGVpZ2h0PSc2MCc+PHBhdGggZD0nTTg0LjE1LDI2LjR2Ni4zNWMwLDIuODMzLTAuMTUsNS45NjctMC40NSw5LjRjLTAuMTMzLDEuNy0wLjI2NywzLjExNy0wLjQsNC4yNWwtMC4xNSwwLjk1Yy0wLjE2NywwLjc2Ny0wLjM2NywxLjUxNy0wLjYsMi4yNWMtMC42NjcsMi4zNjctMS41MzMsNC4wODMtMi42LDUuMTVjLTEuMzY3LDEuNC0yLjk2NywyLjM4My00LjgsMi45NWMtMC42MzMsMC4yLTEuMzE2LDAuMzMzLTIuMDUsMC40Yy0wLjc2NywwLjEtMS4zLDAuMTY3LTEuNiwwLjJjLTQuOSwwLjM2Ny0xMS4yODMsMC42MTctMTkuMTUsMC43NWMtMi40MzQsMC4wMzQtNC44ODMsMC4wNjctNy4zNSwwLjFoLTIuOTVDMzguNDE3LDU5LjExNywzNC41LDU5LjA2NywzMC4zLDU5Yy04LjQzMy0wLjE2Ny0xNC4wNS0wLjM4My0xNi44NS0wLjY1Yy0wLjA2Ny0wLjAzMy0wLjY2Ny0wLjExNy0xLjgtMC4yNWMtMC45LTAuMTMzLTEuNjgzLTAuMjgzLTIuMzUtMC40NWMtMi4wNjYtMC41MzMtMy43ODMtMS41LTUuMTUtMi45Yy0xLjAzMy0xLjA2Ny0xLjktMi43ODMtMi42LTUuMTVDMS4zMTcsNDguODY3LDEuMTMzLDQ4LjExNywxLDQ3LjM1TDAuOCw0Ni40Yy0wLjEzMy0xLjEzMy0wLjI2Ny0yLjU1LTAuNC00LjI1QzAuMTMzLDM4LjcxNywwLDM1LjU4MywwLDMyLjc1VjI2LjRjMC0yLjgzMywwLjEzMy01Ljk1LDAuNC05LjM1bDAuNC00LjI1YzAuMTY3LTAuOTY2LDAuNDE3LTIuMDUsMC43NS0zLjI1YzAuNy0yLjMzMywxLjU2Ny00LjAzMywyLjYtNS4xYzEuMzY3LTEuNDM0LDIuOTY3LTIuNDM0LDQuOC0zYzAuNjMzLTAuMTY3LDEuMzMzLTAuMywyLjEtMC40YzAuNC0wLjA2NiwwLjkxNy0wLjEzMywxLjU1LTAuMmM0LjktMC4zMzMsMTEuMjgzLTAuNTY3LDE5LjE1LTAuN0MzNS42NSwwLjA1LDM5LjA4MywwLDQyLjA1LDBMNDUsMC4wNWMyLjQ2NywwLDQuOTMzLDAuMDM0LDcuNCwwLjFjNy44MzMsMC4xMzMsMTQuMiwwLjM2NywxOS4xLDAuN2MwLjMsMC4wMzMsMC44MzMsMC4xLDEuNiwwLjJjMC43MzMsMC4xLDEuNDE3LDAuMjMzLDIuMDUsMC40YzEuODMzLDAuNTY2LDMuNDM0LDEuNTY2LDQuOCwzYzEuMDY2LDEuMDY2LDEuOTMzLDIuNzY3LDIuNiw1LjFjMC4zNjcsMS4yLDAuNjE3LDIuMjg0LDAuNzUsMy4yNWwwLjQsNC4yNUM4NCwyMC40NSw4NC4xNSwyMy41NjcsODQuMTUsMjYuNHogTTMzLjMsNDEuNEw1NiwyOS42TDMzLjMsMTcuNzVWNDEuNHonIGZpbGw9JyNDQzE4MUUnIGZpbGwtb3BhY2l0eT0nLjUnPjwvcGF0aD48cG9seWdvbiBwb2ludHM9JzMzLjMsNDEuNCAzMy4zLDE3Ljc1IDU2LDI5LjYnIGZpbGw9JyNGRkYnPjwvcG9seWdvbj48L3N2Zz4K')";
var g=document.createElement("div");g.className="youtube-thumbnail";a.b.appendChild(g);var e={videoId:F(a).videoId,width:d,height:c,thumbWidth:"100%",thumbHeight:"100%",thumbAlign:"tl",events:{onClick:a.H.bind(a)}};p(function(){this.u=new YT.Thumbnail(g,e)}.bind(a),0)}else m()&&(a.b.style.backgroundColor="rgba(0, 0, 0, 0)")}return a.b};
D.prototype.H=function(){if(this.h){H(this);this.setAttribute("autoplay","standard");this.h=!1;this.j=!0;var a=F(this);this.g=this.g||z(this.id);this.m=A(this,this.g,a,function(a){this.a=a;r("ready",this)}.bind(this))}};
D.prototype.attachedCallback=function(){if("function"==typeof this.gwdLoad&&"function"==typeof this.gwdIsLoaded&&!this.gwdIsLoaded()){var a=l(this),b=a&&"function"==typeof a.gwdIsLoaded;(!a||b&&a.gwdIsLoaded())&&this.gwdLoad()}if(null==this.gwdActivate||"function"==typeof this.gwdActivate)null!=this.gwdIsActive&&this.gwdIsActive()||(b=(a=l(this))&&null!=a.gwdIsActive&&"function"==typeof a.gwdIsActive,null==a&&this.gwdActivate(),b&&a.gwdIsActive()&&this.gwdActivate());window.addEventListener("resize",
this.I,!1)};D.prototype.detachedCallback=function(){window.removeEventListener("resize",this.I,!1);H(this)};var H=function(a){a.a&&(a.a.destroy(),a.a=null);a.b&&a.b.parentElement&&(a.removeChild(a.b),a.b=null);a.u&&(a.u.destroy(),a.u=null);a.m&&a.m();a.i=!1;a.j=!1;a.m=null};f=D.prototype;
f.gwdLoad=function(){if(!this.j){this.j=!0;var a=F(this);this.g=this.g||z(this.id);this.m=A(this,this.g,a,function(b){this.a=b;if("preview"==a.preview||"intro"==a.preview)this.h=!0,this.appendChild(G(this,"preview"==a.preview));r("ready",this)}.bind(this))}};f.gwdIsLoaded=function(){return null!=this.a};f.gwdActivate=function(){this.classList.remove("hidden");this.v=!0};f.gwdDeactivate=function(){this.classList.add("hidden");0!=this.getCurrentTime()&&this.seek(0);2!=this.o&&this.pause();this.v=!1};
f.gwdIsActive=function(){return this.v};f.attributeChangedCallback=function(a){if("video-url"==a&&this.j){var b=F(this).autoplay;b&&(this.B=!1);this.setYouTubeId(C(this.getAttribute(a)),!b)}};f.play=function(){this.h?this.H():this.i?this.a.playVideo():this.c.push({l:0})};f.pause=function(){this.i?5!=this.o&&this.a.pauseVideo():this.c.push({l:1})};f.replay=function(){this.h||(this.seek(0),this.play(),r("replayed",this))};f.seek=function(a){this.h||(this.i?this.a.seekTo(a,!0):this.c.push({l:2,A:a}))};
f.getCurrentTime=function(){return this.i?this.a.getCurrentTime():0};f.setYouTubeId=function(a,b){this.h||(this.i?b?this.a.cueVideoById(a):this.a.loadVideoById(a):this.j?this.c.push({l:4,A:a,P:b}):this.setAttribute("video-url",a))};f.toggleMute=function(){if(!this.h)if(this.i){var a=this.a;a.isMuted()?a.unMute():a.mute()}else this.c.push({l:3})};
var F=function(a){var b="none",c=!1,d=String(a.getAttribute("autoplay")).toLowerCase();"none"==d||"false"==d||"null"==d||"ontouchstart"in window||0<window.navigator.MaxTouchPoints||0<window.navigator.msMaxTouchPoints||(c=!0,b="true"==d||""==d?"standard":d);d=I(a);c={annotations:a.hasAttribute("annotations"),autoplay:c,events:{onReady:a.N.bind(a),onStateChange:a.O.bind(a),onCueRangeEnter:a.L.bind(a)},height:d.height,loop:a.hasAttribute("loop"),preview:b,related:a.hasAttribute("related"),title:a.hasAttribute("title"),
videoId:C(a.getAttribute("video-url")),width:d.width};if(d=a.getAttribute("color"))c.color=d;if(d=a.getAttribute("controls"))c.controls=d;d=parseInt(a.getAttribute("start-position"),10);isNaN(d)||(c.startPosition=d);if(!(d=a.getAttribute("adformat"))){var d=b,g;if(window.Enabler){var e=studio.common.Environment;if(e.hasType(e.Type.CREATIVE_TOOLSET)){if("none"==d||"preview"==d)g="2_11";e=Enabler.getContainerState();e!=studio.sdk.ContainerState.EXPANDING&&e!=studio.sdk.ContainerState.EXPANDED&&e!=studio.sdk.ContainerState.FS_EXPANDING&&
e!=studio.sdk.ContainerState.FS_EXPANDED||"standard"!=d&&"intro"!=d||(g="2_9")}else d=Enabler.getParameter("adSiteUrl")||"localhost",B.test(d)&&(g="1_8");g||(g="1_5");d=g}else d=""}c.adformat=d;if("intro"==b||"preview"==b)c.annotations=!1,c.controls="none",c.loop=!1,c.related=!1,c.title=!1;if(b=a.getAttribute("extra-player-args"))c.extraPlayerArgs=b;c.allowfullscreen=a.hasAttribute("allowfullscreen");return c},I=function(a){var b=window.getComputedStyle(a).width;a=window.getComputedStyle(a).height;
0===parseFloat(b)||isNaN(parseInt(b,10))?b="100%":-1==b.indexOf("%")&&(b=parseInt(b,10));0===parseFloat(a)||isNaN(parseInt(a,10))?a="100%":-1==a.indexOf("%")&&(a=parseInt(a,10));return{width:b,height:a}},E=function(a){var b=!1,c=function(){var a=this.g?this.querySelector("#"+this.g):null;if(a){var c=I(this);a.width=c.width;a.height=c.height}b=!1}.bind(a),d=null;return function(){b=!0;d||(c(),d=p(function(){d=null;b&&c()},30))}},J=function(a,b,c,d){a.a.addCueRange(b,c,d);a.J.push({id:b,start:String(c),
end:String(d)})},K=function(a,b,c,d){for(var g=c/4,e=0,q=d.length;e<q;e++){var n=b+g*e,t=b+c;0===e?n+=.1:e===q-1&&--n;J(a,d[e],n,t)}},L=function(a,b,c){var d=parseInt(a.getAttribute("preview-duration"),10)||30;c&&b+d>c&&(d=c-b);K(a,b,d,["preview_q0","preview_q1","preview_q2","preview_q3","preview_q4"])};
D.prototype.N=function(){this.i=!0;for(var a=0,b=this.c.length;a<b;++a)switch(this.c[a].l){case 0:this.play();break;case 1:this.pause();break;case 2:this.seek(this.c[a].A);break;case 3:this.toggleMute();break;case 4:this.setYouTubeId(this.c[a].A,this.c[a].P)}this.c=[];b=F(this).preview;this.hasAttribute("muted")||"intro"==b||"preview"==b?this.a.mute():this.a.unMute();a=this.a.getDuration();switch(b){case "none":case "standard":K(this,0,a,["q0","q1","q2","q3","q4"]);break;case "intro":case "preview":a?
(b=F(this).startPosition,L(this,b&&b<a?b:0,a)):this.w=!0}this.hasAttribute("pause-on-end")&&J(this,"ending",a-1,a);this.a.addEventListener("seekto",function(){r("seekto",this)}.bind(this),!1);this.o=5};
D.prototype.O=function(a){a=parseInt(a.data,10);if(!isNaN(a)){var b="";switch(a){case 0:b="ended";this.hasAttribute("loop")&&this.replay();break;case 1:b="playing";if(!this.B&&F(this).autoplay)this.B=!0,this.w&&(L(this,this.a.getCurrentTime()),this.w=!1);else{var c=this.a;!c.isMuted()||this.hasAttribute("muted")||this.F||c.unMute();0==this.F&&(this.F=!0);0==this.o&&r("replayed",this);r("playpressed",this)}break;case 2:b="paused";break;case 3:b="buffering"}b&&r(b,this);this.o=a}};
D.prototype.L=function(a){"ending"==a.data?this.pause():this.a.removeCueRange(a.data);switch(a.data){case "q0":r("viewed0percent",this);break;case "q1":r("viewed25percent",this);break;case "q2":r("viewed50percent",this);break;case "q3":r("viewed75percent",this);break;case "q4":r("viewed100percent",this);break;case "preview_q0":r("previewed0percent",this);break;case "preview_q1":r("previewed25percent",this);break;case "preview_q2":r("previewed50percent",this);break;case "preview_q3":r("previewed75percent",
this);break;case "preview_q4":this.a.pauseVideo(),r("previewed100percent",this),this.removeAttribute("autoplay")}};document.registerElement("gwd-youtube",{prototype:D.prototype});}()
